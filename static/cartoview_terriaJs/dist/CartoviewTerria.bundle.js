!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("CartoviewTerria",[],t):"object"==typeof exports?exports.CartoviewTerria=t():e.CartoviewTerria=t()}(window,(function(){return function(e){function t(t){for(var n,i,o=t[0],u=t[1],s=t[2],c=0,f=[];c<o.length;c++)i=o[c],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);for(d&&d(t);f.length;)f.shift()();return l.push.apply(l,s||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],n=!0,o=1;o<a.length;o++){var u=a[o];0!==r[u]&&(n=!1)}n&&(l.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={0:0},l=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/static/cartoview_terriaJs/dist/";var o=window.webpackJsonp_name_=window.webpackJsonp_name_||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var s=0;s<o.length;s++)t(o[s]);var d=u;return l.push(["tjUo",1]),a()}({Razc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=x(a("Yz+Y")),r=x(a("iCc5")),l=x(a("V7oC")),i=x(a("FYw3")),o=x(a("mRg0")),u=x(a("YEIV")),s=x(a("BvTd")),d=x(a("ZPUd")),c=x(a("GkiB")),f=x(a("o6Jd")),p=x(a("zpwW")),m=x(a("uniG")),h=x(a("17x9")),g=x(a("q1tI")),w=x(a("kCMs")),y=x(a("/FpP")),E=x(a("I2iC")),b=x(a("KI6R")),v=x(a("TSYQ")),C=a("DfQ9");function x(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(){var e,a,l,o;(0,r.default)(this,t);for(var u=arguments.length,s=Array(u),d=0;d<u;d++)s[d]=arguments[d];return a=l=(0,i.default)(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(s))),l.state={open:!1,maps:[],snackOpen:!1},l.UNSAFE_componentWillMount=function(){l.getMaps()},l.getMaps=function(){var e=l.props.urls;fetch(e.mapsApiUrl).then((function(e){return e.json()})).then((function(e){l.setState({maps:e.objects})}))},l.handleDrawerOpen=function(){l.setState({open:!0})},l.handleRequestClose=function(e,t){"clickaway"!==t&&l.setState({snackOpen:!1})},l.handleSnackOpen=function(){l.setState({snackOpen:!0})},l.handleDrawerClose=function(){l.setState({open:!1})},o=a,(0,i.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.urls;return g.default.createElement("div",{className:a.root},g.default.createElement("div",{className:a.appFrame},g.default.createElement(s.default,{className:(0,v.default)(a.appBar,this.state.open&&a.appBarShift)},g.default.createElement(E.default,{disableGutters:!this.state.open},g.default.createElement(f.default,{"aria-label":"open drawer",onClick:this.handleDrawerOpen,className:(0,v.default)(a.menuButton,this.state.open&&a.hide)},g.default.createElement(m.default,{open:!0})),g.default.createElement(b.default,{type:"title",color:"inherit",noWrap:!0},"Cartoview Terria Map"))),g.default.createElement(w.default,{urls:n,open:this.state.open,handleDrawerClose:this.handleDrawerClose}),g.default.createElement("main",{className:(0,v.default)(a.content,this.state.open&&a.contentShift)},g.default.createElement(c.default,{container:!0,direction:"row",className:a.rootGrid,spacing:4},this.state.maps.map((function(t,a){return g.default.createElement(c.default,{key:a,item:!0,xs:12,sm:6,md:3,lg:3},g.default.createElement(p.default,{openSnack:e.handleSnackOpen,urls:n,map:t}))}))),g.default.createElement(y.default,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.snackOpen,onRequestClose:this.handleRequestClose,SnackbarContentProps:{"aria-describedby":"message-id"},message:g.default.createElement("span",{id:"message-id"},"URL Copied to Clipboard"),action:[g.default.createElement(f.default,{key:"close","aria-label":"Close",color:"inherit",className:a.close,onClick:this.handleRequestClose},g.default.createElement(d.default,null))]}))))}}]),t}(g.default.Component);_.propTypes={classes:h.default.object.isRequired,urls:h.default.object.isRequired},t.default=(0,C.withStyles)((function(e){return{root:{width:"100%",height:"100%",zIndex:1,overflow:"hidden"},close:{width:e.spacing(4),height:e.spacing(4)},rootGrid:{flexGrow:1},appFrame:{position:"relative",display:"flex",width:"100%",height:"100%"},appBar:{position:"absolute",transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - 240px)",transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginLeft:12,marginRight:20},hide:{display:"none"},content:(0,u.default)({width:"100%",flexGrow:1,backgroundColor:e.palette.background.default,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),height:"calc(100% - 56px)",marginTop:56},e.breakpoints.up("sm"),{content:{height:"calc(100% - 64px)",marginTop:64}}),contentShift:{marginLeft:0,transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})}}}))(_)},kCMs:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=b(a("Yz+Y")),r=b(a("iCc5")),l=b(a("V7oC")),i=b(a("FYw3")),o=b(a("mRg0")),u=b(a("QbLZ")),s=a("TTf+"),d=b(a("76vg")),c=b(a("Ahln")),f=b(a("7n/6")),p=b(a("HEym")),m=b(a("o6Jd")),h=b(a("fgxa")),g=b(a("vm6e")),w=b(a("17x9")),y=b(a("q1tI")),E=a("DfQ9");function b(e){return e&&e.__esModule?e:{default:e}}var v={maps:y.default.createElement(g.default,null),layers:y.default.createElement(h.default,null),apps:y.default.createElement(p.default,null)},C=function(e){function t(){var e,a,l,o;(0,r.default)(this,t);for(var u=arguments.length,d=Array(u),c=0;c<u;c++)d[c]=arguments[c];return a=l=(0,i.default)(this,(e=t.__proto__||(0,n.default)(t)).call.apply(e,[this].concat(d))),l.renderListItem=function(e){var t=l.props.urls;return y.default.createElement(s.ListItem,{onClick:function(){return window.location.href=t[e]},key:e,button:!0},y.default.createElement(s.ListItemIcon,null,v[e]),y.default.createElement(s.ListItemText,{primary:e[0].toUpperCase()+e.substr(1)}))},o=a,(0,i.default)(l,o)}return(0,o.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.open,n=e.handleDrawerClose,r=e.urls;return y.default.createElement(f.default,{type:"persistent",classes:{paper:t.drawerPaper},open:a},y.default.createElement("div",null,y.default.createElement("div",{className:t.drawerHeader},y.default.createElement(m.default,{onClick:n},y.default.createElement(d.default,null))),y.default.createElement(c.default,null),y.default.createElement(s.List,null,y.default.createElement(s.ListItem,{onClick:function(){return window.location.href=r.maps},button:!0},y.default.createElement(s.ListItemIcon,null,y.default.createElement(g.default,null)),y.default.createElement(s.ListItemText,{primary:"Maps"})),y.default.createElement(s.ListItem,{onClick:function(){return window.location.href=r.layers},button:!0},y.default.createElement(s.ListItemIcon,null,y.default.createElement(g.default,null)),y.default.createElement(s.ListItemText,{primary:"Layers"})),y.default.createElement(s.ListItem,{onClick:function(){return window.location.href=r.apps},button:!0},y.default.createElement(s.ListItemIcon,null,y.default.createElement(p.default,null)),y.default.createElement(s.ListItemText,{primary:"Apps"}))),y.default.createElement(c.default,null)))}}]),t}(y.default.Component);C.propTypes={urls:w.default.object.isRequired,open:w.default.bool.isRequired,handleDrawerClose:w.default.func.isRequired,classes:w.default.object.isRequired},t.default=(0,E.withStyles)((function(e){return{drawerPaper:{position:"relative",height:"100%",width:240},drawerHeader:(0,u.default)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar)}}))(C)},m5Hl:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a("QbLZ")),r=a("DfQ9"),l=u(a("Razc")),i=u(a("q1tI")),o=a("yKYv");function u(e){return e&&e.__esModule?e:{default:e}}var s=(0,r.createMuiTheme)({palette:{type:"light",primary:(0,n.default)({},o.cyan)}});t.default=function(){var e=globalURLs;return i.default.createElement(r.MuiThemeProvider,{theme:s},i.default.createElement(l.default,{urls:e}))}},tjUo:function(e,t,a){"use strict";var n=l(a("m5Hl")),r=l(a("q1tI"));function l(e){return e&&e.__esModule?e:{default:e}}l(a("i8i4")).default.render(r.default.createElement(n.default,null),document.getElementById("map-list"))},zpwW:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=k(a("YEIV")),r=k(a("Yz+Y")),l=k(a("iCc5")),i=k(a("V7oC")),o=k(a("FYw3")),u=k(a("mRg0")),s=a("TTf+"),d=k(a("5qWs")),c=k(a("FtsS")),f=k(a("qRC2")),p=k(a("1iKp")),m=k(a("GkiB")),h=k(a("o6Jd")),g=k(a("zbJW")),w=k(a("17x9")),y=k(a("q1tI")),E=k(a("qlJ3")),b=k(a("KI6R")),v=k(a("TSYQ")),C=k(a("+QRC")),x=a("yKYv"),_=a("DfQ9");function k(e){return e&&e.__esModule?e:{default:e}}var S=function(e){function t(){var e,a,n,i;(0,l.default)(this,t);for(var u=arguments.length,s=Array(u),d=0;d<u;d++)s[d]=arguments[d];return a=n=(0,o.default)(this,(e=t.__proto__||(0,r.default)(t)).call.apply(e,[this].concat(s))),n.state={expanded:!1},n.handleExpandClick=function(){n.setState({expanded:!n.state.expanded})},n.copyTo=function(e){var t=n.props.urls;(0,C.default)(t.getTerriaUrl(e))},i=a,(0,o.default)(n,i)}return(0,u.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,r=t.urls,l=this.props,i=l.map,o=l.openSnack;return y.default.createElement(s.Card,{className:a.card},y.default.createElement(s.CardHeader,{avatar:y.default.createElement(d.default,{"aria-label":"Recipe",className:a.avatar},i.owner__username[0].toUpperCase()),title:i.title,subheader:new Date(i.date).toDateString()}),y.default.createElement(s.CardMedia,{className:a.media,image:i.thumbnail_url||"/static/cartoview_terriaJs/img/no-img.png",title:i.title}),y.default.createElement(s.CardActions,{disableSpacing:!0},y.default.createElement(h.default,{color:"primary",onClick:function(){return window.location.href=r.getTerriaUrl(i.id)},"aria-label":"Open in browser"},y.default.createElement(g.default,null)),y.default.createElement(h.default,{color:"primary",onClick:function(){e.copyTo(i.id),o()},"aria-label":"Open in browser"},y.default.createElement(E.default,null)),y.default.createElement("div",{className:a.flexGrow}),y.default.createElement(h.default,{className:(0,v.default)(a.expand,(0,n.default)({},a.expandOpen,this.state.expanded)),onClick:this.handleExpandClick,"aria-expanded":this.state.expanded,"aria-label":"Show more"},y.default.createElement(p.default,null))),y.default.createElement(f.default,{in:this.state.expanded},y.default.createElement(s.CardContent,null,y.default.createElement(b.default,{paragraph:!0,type:"body2"},"Description:"),y.default.createElement(b.default,{paragraph:!0},""===i.abstract?"No Description":i.abstract),y.default.createElement(m.default,{container:!0,direction:"row",className:a.rootGrid,spacing:10},y.default.createElement(m.default,{item:!0,xs:12,sm:6,md:6,lg:6,className:a.gridItem},y.default.createElement(c.default,{onClick:function(){return window.location.href=r.getTerriaUrl(i.id)},color:"primary",className:a.button},"Open")),y.default.createElement(m.default,{item:!0,xs:12,sm:6,md:6,lg:6,className:a.gridItem},y.default.createElement(c.default,{onClick:function(){return window.location.href=r.getMapDetailsUrl(i.id)},color:"accent",className:a.button},"Details"))))))}}]),t}(y.default.Component);S.propTypes={classes:w.default.object.isRequired,urls:w.default.object.isRequired,map:w.default.object.isRequired,openSnack:w.default.func.isRequired},t.default=(0,_.withStyles)((function(e){return{card:{width:"100%"},rootGrid:{flexGrow:1},media:{height:194},expand:{transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:x.cyan[500]},flexGrow:{flex:"1 1 auto"},button:{margin:e.spacing()},gridItem:{textAlign:"center"}}}))(S)}})}));
//# sourceMappingURL=/static/cartoview_terriaJs/dist/sourcemaps/../CartoviewTerria.bundle.js.map
//# sourceMappingURL=CartoviewTerria.bundle.js.map